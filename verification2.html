<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="stylesheet" href="styleguide.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="screens-get-started">
      <div class="header">
        <a href="vehicleinfo.html"><div class="container"><img class="arrow-left" src="./icons/arrow-left.png" /></div></a>
        <div class="div">
          <div class="title">Verification</div>
        </div>
      </div>
      
      <div class="content-2">
        <div class="form">
          <div class="content-3">
            <div class="form-field">
              <div class="label"><p class="p">Enter your 6 digit code</p></div>
            </div>
            <div class="form-field">
              <div class="label"><div class="label-2">Sent to XXXXX8979</div></div>
            </div>
          </div>
          <div class="otp-container">
              <input type="tel" class="otp-input" maxlength="1">
              <input type="tel" class="otp-input" maxlength="1">
              <input type="tel" class="otp-input" maxlength="1">
              <input type="tel" class="otp-input" maxlength="1">
              <input type="tel" class="otp-input" maxlength="1">
              <input type="tel" class="otp-input" maxlength="1">
            </div>
        </div>
        <a href="vehicles.html" class="button">
        <div class="text">Verify</div>
          <div class="icon">
          <img class="arrow-right" src="./icons/arrow-right.png" />
        </div>
        </a>
    </div>
     <script>
        document.addEventListener('DOMContentLoaded', () => {
            const otpInputs = document.querySelectorAll('.otp-input');

            otpInputs.forEach((input, index) => {
                input.addEventListener('keydown', (event) => {
                    if (event.key === 'Backspace') {
                        if (input.value === '' && index > 0) {
                            otpInputs[index - 1].focus();
                        }
                    }
                });
                
                input.addEventListener('input', () => {
                    input.value = input.value.replace(/[^0-9]/g, '');
                    if (input.value !== '' && index < otpInputs.length - 1) {
                        otpInputs[index + 1].focus();
                    }
                });

                input.addEventListener('paste', (event) => {
                    event.preventDefault();
                    const pastedData = event.clipboardData.getData('text');
                    if (/^\d+$/.test(pastedData)) {
                        const digits = pastedData.split('');
                        digits.forEach((digit, i) => {
                            if (index + i < otpInputs.length) {
                                otpInputs[index + i].value = digit;
                            }
                        });
                        const nextFocusIndex = Math.min(index + digits.length, otpInputs.length - 1);
                        otpInputs[nextFocusIndex].focus();
                    }
                });
            });
        });
    </script>
  </body>
</html>
